# GMS-OGG-Sample-Rate-Exploit-Converter
A Python script for taking advantage of the GM:S OGG Sample Rate Exploit, allowing OGG files to be played back at the same pitch regardless of the game's attempts to change it.

In certain games made in GameMaker: Studio 1 such as Undertale, music files are stored externally as OGG files. These files can be swapped out, allowing for easy music mods. However, games may change the pitch of this music using the function `audio_sound_pitch`, which adjusts the playback speed of the music. This makes it more difficult to create music mods that will sound a certain way in-game, as you'd have to reverse this process while creating the OGG file to get it to sound normal in-game. There might also be some variation in the speed the game is programmed to play these sound files as well.

While messing around with music mods, I have discovered an exploit in the way these OGG files are processed. If the sample rate is set to 1 or 2, then the OGG file will be played at a sample rate of 44,100 Hz. This sample rate will be maintained regardless of any `audio_sound_pitch` calls, meaning your OGG file will always sound the same as the way you exported it (assuming you exported it at 44,100 Hz).

This script takes an input path to an OGG file, changes the first page's sample rate to 1, recalculates the page's CRC (required for playback), and saves the new OGG into the output path. This process is experimental and may not work in all cases, but it has been tested to work with Undertale's OGG files.
